<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
<head>
	<title>ПРОГРАММИРОВАНИЕ - ВВЕДЕНИЕ В ПРОФЕССИЮ I: АЗЫ ПРОГРАММИРОВАНИЯ</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="css/stylesheet.css" type="text/css" />
</head>
<body>
<section class="body-rw Chapter-rw" epub:type="bodymatter chapter">
<header>
	<h4>1.4.14. Переменные окружения</h4>
</header>

<p>Выполняющиеся в ОС Unix программы имеют возможность получать некоторую (обычно связанную с глобальными настройками) информацию из так называемых <i><strong>переменных окружения. Окружение</strong></i> фактически представляет собой множество текстовых строк вида VAR=VALUE, где VAR&#160;&#8212; имя переменной, а VALUE&#160;&#8212; её значение.</p>

<br/>
<small>
	<p>На самом деле окружение своё у каждой запущенной программы, так называемого <i><strong>процесса</strong></i>. Процесс имеет возможность изменить своё окружение: добавить новые переменные, удалить уже имеющиеся или изменить их значения. Когда один процесс запускает другой процесс, то порождённый процесс обычно наследует окружение процесса-родителя.</p>
</small>
<br/>

<p>Одной из наиболее важных является переменная с именем PATH. Эта переменная содержит список каталогов, в которых следует искать исполняемый файл, если пользователь дал команду, не указав каталог. Стоит также упомянуть переменную HOME, содержащую путь к домашнему каталогу пользователя; переменную LANG, по которой многоязычные приложения определяют, на каком языке следует выдавать сообщения; переменную EDITOR, в которую можно занести имя предпочитаемого редактора текстов. Разумеется, список переменных окружения этим не исчерпывается. Весь набор имеющихся в вашем окружении переменных можно увидеть, дав команду set без параметров.</p>

<p>Интерпретатор командной строки предоставляет возможности по управлению переменными окружения. Во-первых, при старте интерпретатор копирует всё окружение в свои собственные переменные (заметим, что внутренние переменные интерпретатора организованы так же, как переменные окружения, а именно&#160;&#8212; в виде набора строк вида VAR=VALUE), так что к ним можно обратиться:</p>

<br/>
<p class="codecite">
&#160;&#160;&#160;&#160;&#36; echo &#36;PATH<br/>
&#160;&#160;&#160;&#160;/usr/local/bin:/bin:/usr/bin<br/>
&#160;&#160;&#160;&#160;&#36; echo &#36;HOME<br/>
&#160;&#160;&#160;&#160;/home/stud/s2003324<br/>
&#160;&#160;&#160;&#160;&#36; echo &#36;LANG<br/>
&#160;&#160;&#160;&#160;ru_RU.KOI8-R<br/>
</p>
<br/>

<p>Кроме того, интерпретатор предоставляет возможность копировать значения переменных обратно в окружение с помощью команды export:</p>

<br/>
<p class="codecite">
&#160;&#160;&#160;&#160;PATH=&#36;PATH:/sbin:/usr/sbin<br/>
&#160;&#160;&#160;&#160;export PATH<br/>
</p>
<br/>

<p>или просто</p>

<br/>
<p class="codecite">
&#160;&#160;&#160;&#160;export PATH=&#36;PATH:/sbin:/usr/sbin<br/>
</p>
<br/>

<p>Отметим, что сами по себе присваивания внутренних переменных, подобные тем, что мы использовали в командных файлах в предыдущем параграфе, на окружение никак не влияют.</p>

<p>Переменную можно убрать из окружения с помощью команд unset и export:</p>

<br/>
<p class="codecite">
&#160;&#160;&#160;&#160;unset MYVAR<br/>
&#160;&#160;&#160;&#160;export MYVAR<br/>
</p>
<br/>

<p>Модификация окружения влияет на выполнение всех команд, которые мы даем интерпретатору, поскольку запускаемые интерпретатором процессы наследуют уже модифицированный набор переменных окружения. Кроме того, при необходимости можно отдельно взятую команду запустить с модифицированным только для неё окружением. Это делается примерно так:</p>

<br/>
<p class="codecite">
&#160;&#160;&#160;&#160;VAR=value command<br/>
</p>
<br/>

<p>Так, в ОС FreeBSD можно сменить информацию о пользователе, включая используемый командный интерпретатор, с помощью команды chfn, которая предлагает к редактированию определённый текст, из которого затем извлекает нужные значения. Эта команда по умолчанию запускает редактор текстов vim, что не для всех пользователей удобно. Выйти из положения можно, например, так:</p>

<br/>
<p class="codecite">
&#160;&#160;&#160;&#160;EDITOR=joe chfn<br/>
</p>
<br/>

<p>В этом случае будет запущен редактор joe.</p>

</section>
</body>
</html>